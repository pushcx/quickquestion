#!/usr/bin/env ruby

ENV["BUNDLE_GEMFILE"] ||= File.expand_path("../Gemfile", __dir__)
require "bundler/setup"

require "readline"
require 'qq'

# use the first available
def passive_input
  return ARGV.join(' ') if ARGV.any?

  $stdin.read if !$stdin.tty? && !$stdin.closed?
end

def blocking_input
  Readline.readline("> ", true)
end

input = passive_input || blocking_input

puts qq(input)
